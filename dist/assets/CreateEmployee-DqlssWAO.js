import{f,g as b,r as h,j as s,B as Y,c as y,h as k,i as A,o as N,m as H,k as C,I as ee,l as M,n as P,p as G,q as re,s as se,H as ae,t as B}from"./index-lUerTuv-.js";import{u as te}from"./chunk-6RSEZNRH-Dl3B4J17.js";import{C as oe,a as ne,b as ie}from"./chunk-YQO7BFFX-r124rhfW.js";var le={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},de={horizontal:n=>({"& > *:not(style) ~ *:not(style)":{marginStart:n}}),vertical:n=>({"& > *:not(style) ~ *:not(style)":{marginTop:n}})},O=f(function(e,o){const{size:a,colorScheme:r,variant:i,className:l,spacing:d="0.5rem",isAttached:t,isDisabled:u,orientation:c="horizontal",...m}=e,x=b("chakra-button__group",l),j=h.useMemo(()=>({size:a,colorScheme:r,variant:i,isDisabled:u}),[a,r,i,u]);let w={display:"inline-flex",...t?le[c]:de[c](d)};const E=c==="vertical";return s.jsx(Y,{value:j,children:s.jsx(y.div,{ref:o,role:"group",__css:w,className:x,"data-attached":t?"":void 0,"data-orientation":c,flexDir:E?"column":void 0,...m})})});O.displayName="ButtonGroup";var[ce,L]=k({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[ue,T]=k({strict:!1,name:"FormControlContext"});function me(n){const{id:e,isRequired:o,isInvalid:a,isDisabled:r,isReadOnly:i,...l}=n,d=h.useId(),t=e||`field-${d}`,u=`${t}-label`,c=`${t}-feedback`,m=`${t}-helptext`,[x,j]=h.useState(!1),[w,E]=h.useState(!1),[v,z]=h.useState(!1),W=h.useCallback((p={},g=null)=>({id:m,...p,ref:H(g,q=>{q&&E(!0)})}),[m]),K=h.useCallback((p={},g=null)=>({...p,ref:g,"data-focus":C(v),"data-disabled":C(r),"data-invalid":C(a),"data-readonly":C(i),id:p.id!==void 0?p.id:u,htmlFor:p.htmlFor!==void 0?p.htmlFor:t}),[t,r,v,a,i,u]),Q=h.useCallback((p={},g=null)=>({id:c,...p,ref:H(g,q=>{q&&j(!0)}),"aria-live":"polite"}),[c]),U=h.useCallback((p={},g=null)=>({...p,...l,ref:g,role:"group","data-focus":C(v),"data-disabled":C(r),"data-invalid":C(a),"data-readonly":C(i)}),[l,r,v,a,i]),X=h.useCallback((p={},g=null)=>({...p,ref:g,role:"presentation","aria-hidden":!0,children:p.children||"*"}),[]);return{isRequired:!!o,isInvalid:!!a,isReadOnly:!!i,isDisabled:!!r,isFocused:!!v,onFocus:()=>z(!0),onBlur:()=>z(!1),hasFeedbackText:x,setHasFeedbackText:j,hasHelpText:w,setHasHelpText:E,id:t,labelId:u,feedbackId:c,helpTextId:m,htmlProps:l,getHelpTextProps:W,getErrorMessageProps:Q,getRootProps:U,getLabelProps:K,getRequiredIndicatorProps:X}}var F=f(function(e,o){const a=A("Form",e),r=N(e),{getRootProps:i,htmlProps:l,...d}=me(r),t=b("chakra-form-control",e.className);return s.jsx(ue,{value:d,children:s.jsx(ce,{value:a,children:s.jsx(y.div,{...i({},o),className:t,__css:a.container})})})});F.displayName="FormControl";var pe=f(function(e,o){const a=T(),r=L(),i=b("chakra-form__helper-text",e.className);return s.jsx(y.div,{...a==null?void 0:a.getHelpTextProps(e,o),__css:r.helperText,className:i})});pe.displayName="FormHelperText";var[he,fe]=k({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),R=f((n,e)=>{const o=A("FormError",n),a=N(n),r=T();return r!=null&&r.isInvalid?s.jsx(he,{value:o,children:s.jsx(y.div,{...r==null?void 0:r.getErrorMessageProps(a,e),className:b("chakra-form__error-message",n.className),__css:{display:"flex",alignItems:"center",...o.text}})}):null});R.displayName="FormErrorMessage";var ye=f((n,e)=>{const o=fe(),a=T();if(!(a!=null&&a.isInvalid))return null;const r=b("chakra-form__error-icon",n.className);return s.jsx(ee,{ref:e,"aria-hidden":!0,...n,__css:o.icon,className:r,children:s.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});ye.displayName="FormErrorIcon";var I=f(function(e,o){var a;const r=M("FormLabel",e),i=N(e),{className:l,children:d,requiredIndicator:t=s.jsx($,{}),optionalIndicator:u=null,...c}=i,m=T(),x=(a=m==null?void 0:m.getLabelProps(c,o))!=null?a:{ref:o,...c};return s.jsxs(y.label,{...x,className:b("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[d,m!=null&&m.isRequired?t:u]})});I.displayName="FormLabel";var $=f(function(e,o){const a=T(),r=L();if(!(a!=null&&a.isRequired))return null;const i=b("chakra-form__required-indicator",e.className);return s.jsx(y.span,{...a==null?void 0:a.getRequiredIndicatorProps(e,o),__css:r.requiredIndicator,className:i})});$.displayName="RequiredIndicator";function Z(n){const{isDisabled:e,isInvalid:o,isReadOnly:a,isRequired:r,...i}=xe(n);return{...i,disabled:e,readOnly:a,required:r,"aria-invalid":P(o),"aria-required":P(r),"aria-readonly":P(a)}}function xe(n){var e,o,a;const r=T(),{id:i,disabled:l,readOnly:d,required:t,isRequired:u,isInvalid:c,isReadOnly:m,isDisabled:x,onFocus:j,onBlur:w,...E}=n,v=n["aria-describedby"]?[n["aria-describedby"]]:[];return r!=null&&r.hasFeedbackText&&(r!=null&&r.isInvalid)&&v.push(r.feedbackId),r!=null&&r.hasHelpText&&v.push(r.helpTextId),{...E,"aria-describedby":v.join(" ")||void 0,id:i??(r==null?void 0:r.id),isDisabled:(e=l??x)!=null?e:r==null?void 0:r.isDisabled,isReadOnly:(o=d??m)!=null?o:r==null?void 0:r.isReadOnly,isRequired:(a=t??u)!=null?a:r==null?void 0:r.isRequired,isInvalid:c??(r==null?void 0:r.isInvalid),onFocus:G(r==null?void 0:r.onFocus,j),onBlur:G(r==null?void 0:r.onBlur,w)}}var S=f(function(e,o){const{htmlSize:a,...r}=e,i=A("Input",r),l=N(r),d=Z(l),t=b("chakra-input",e.className);return s.jsx(y.input,{size:a,...d,__css:i.field,ref:o,className:t})});S.displayName="Input";S.id="Input";var J=f(function(e,o){const{templateAreas:a,gap:r,rowGap:i,columnGap:l,column:d,row:t,autoFlow:u,autoRows:c,templateRows:m,autoColumns:x,templateColumns:j,...w}=e,E={display:"grid",gridTemplateAreas:a,gridGap:r,gridRowGap:i,gridColumnGap:l,gridAutoColumns:x,gridColumn:d,gridRow:t,gridAutoFlow:u,gridAutoRows:c,gridTemplateRows:m,gridTemplateColumns:j};return s.jsx(y.div,{ref:o,__css:E,...w})});J.displayName="Grid";function D(n){return se(n,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var _=f(function(e,o){const{area:a,colSpan:r,colStart:i,colEnd:l,rowEnd:d,rowSpan:t,rowStart:u,...c}=e,m=re({gridArea:a,gridColumn:D(r),gridRow:D(t),gridColumnStart:i,gridColumnEnd:l,gridRowStart:u,gridRowEnd:d});return s.jsx(y.div,{ref:o,__css:m,...c})});_.displayName="GridItem";function ve(n,e=[]){const o=Object.assign({},n);for(const a of e)a in o&&delete o[a];return o}var ge=["h","minH","height","minHeight"],V=f((n,e)=>{const o=M("Textarea",n),{className:a,rows:r,...i}=N(n),l=Z(i),d=r?ve(o,ge):o;return s.jsx(y.textarea,{ref:e,rows:r,...l,className:b("chakra-textarea",a),__css:d})});V.displayName="Textarea";function Ee(){const n=te(),[e,o]=h.useState({name:"",contacts:{email:"",phone_no:""},address:{line:"",country:"",city:"",zipcode:""}}),[a,r]=h.useState({isError_name:!1,isError_email:!1,isError_phone_no:!1,isError_line:!1,isError_country:!1,isError_city:!1,isError_zipcode:!1}),[i,l]=h.useState(!1);async function d(){try{if(l(!0),!e.name||typeof e.name!="string")throw new Error("Name is required and must be a string.");if(!e.contacts.email||typeof e.contacts.email!="string")throw new Error("Email is required and must be a string.");if(!e.contacts.phone_no||!/^\d+$/.test(e.contacts.phone_no))throw new Error("Phone number is required and must be numeric.");if(!e.address.line||typeof e.address.line!="string")throw new Error("Address line is required and must be a string.");if(!e.address.country||typeof e.address.country!="string")throw new Error("Country is required and must be a string.");if(!e.address.city||typeof e.address.city!="string")throw new Error("City is required and must be a string.");if(!e.address.zipcode||!/^\d+$/.test(e.address.zipcode))throw new Error("Zipcode is required and must be numeric.");const u=await(await fetch("https://free-ap-south-1.cosmocloud.io/development/api/employee",{method:"POST",headers:{projectId:"66ae4d52d09e8cc8a8afd410",environmentId:"66ae4d52d09e8cc8a8afd411"},body:JSON.stringify(e)})).json();console.log("submit formData handler",u),u.id&&n({title:"Employee added",variant:"solid",status:"success",isClosable:!0})}catch(t){console.log("fetch emp error",t),n({title:`${t}`,variant:"solid",status:"error",isClosable:!0})}finally{l(!1)}}return s.jsxs(oe,{paddingBottom:{base:"480px",md:"8rem"},marginTop:"100px",minW:"50%",children:[s.jsx(ne,{children:s.jsx(ae,{size:"md",children:"Add new Employee"})}),s.jsx(ie,{children:s.jsxs(J,{h:"200px",templateRows:"repeat(6, 1fr)",templateColumns:"repeat(3, 1fr)",gap:2,children:[s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{isInvalid:a.isError_name,children:[s.jsxs(I,{children:["Name ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(S,{type:"text",name:"name",value:e.name,onChange:t=>{o({...e,name:t.currentTarget.value}),r({...a,isError_name:t.currentTarget.value===""})}}),a.isError_name&&s.jsx(R,{children:"Name is required."})]})}),s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{isInvalid:a.isError_email,children:[s.jsxs(I,{children:["Email ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(S,{type:"email",name:"email",value:e.contacts.email,onChange:t=>{o({...e,contacts:{...e.contacts,email:t.currentTarget.value}}),r({...a,isError_email:t.currentTarget.value===""})}}),a.isError_email&&s.jsx(R,{children:"Email is required."})]})}),s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{isInvalid:a.isError_phone_no,children:[s.jsxs(I,{children:["Phone number ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(S,{type:"text",name:"phone_no",value:e.contacts.phone_no,onChange:t=>{o({...e,contacts:{...e.contacts,phone_no:t.currentTarget.value}}),r({...a,isError_phone_no:t.currentTarget.value===""})}}),a.isError_phone_no&&s.jsx(R,{children:"Phone number is required."})]})}),s.jsx(_,{colSpan:{base:3},children:s.jsxs(F,{isInvalid:a.isError_line,children:[s.jsxs(I,{children:["Address line ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(V,{value:e.address.line,name:"line",rows:2,onChange:t=>{o({...e,address:{...e.address,line:t.currentTarget.value}}),r({...a,isError_line:t.currentTarget.value===""})}}),a.isError_line&&s.jsx(R,{children:"Address is required."})]})}),s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{isInvalid:a.isError_city,children:[s.jsxs(I,{children:["City ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(S,{type:"text",name:"city",value:e.address.city,onChange:t=>{o({...e,address:{...e.address,city:t.currentTarget.value}}),r({...a,isError_city:t.currentTarget.value===""})}}),a.isError_city&&s.jsx(R,{children:"City is required."})]})}),s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{isInvalid:a.isError_zipcode,children:[s.jsxs(I,{children:["Zipcode ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(S,{type:"text",name:"zipcode",value:e.address.zipcode,onChange:t=>{o({...e,address:{...e.address,zipcode:t.currentTarget.value}}),r({...a,isError_zipcode:t.currentTarget.value===""})}}),a.isError_zipcode&&s.jsx(R,{children:"Zipcode is required."})]})}),s.jsx(_,{colSpan:{base:3,md:1},children:s.jsxs(F,{children:[s.jsx(I,{children:"Country"}),s.jsx(S,{type:"text",name:"country",value:e.address.country,onChange:t=>{o({...e,address:{...e.address,country:t.currentTarget.value}})}})]})}),s.jsx(_,{colSpan:1,colEnd:4,mt:2,children:s.jsxs(O,{variant:"outline",spacing:"6",flex:1,children:[s.jsx(B,{colorScheme:"blue",onClick:d,isLoading:i,loadingText:"Loading",variant:"solid",spinnerPlacement:"start",children:"Save"}),s.jsx(B,{children:"Cancel"})]})})]})})]})}export{Ee as default};
